<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <meta content="ie=edge" http-equiv="X-UA-Compatible">
        <meta content="notranslate" name="google">
        <link href="/static/icon.png" rel="icon">
        <meta content="width=device-width,initial-scale=1,user-scalable=yes" name="viewport" />
        <title>Logs</title>
    </head>
    <body class="dark" onload="document.body.classList.add('loaded')">
        <header class="fixed primary">
            <nav>
                <button class="circle transparent" onclick="goToMainUrl()">
                    <i>arrow_back</i>
                </button>
                <h5 class="max">Logs</h5>
            </nav>
        </header>
        <main class="responsive">
            <nav class="tabbed small">
                <a class="active" data-ui="#error_logs">
                    <i>error</i>
                    <span>User Error Logs</span>
                </a>
                <a data-ui="#server_logs">
                    <i>dns</i>
                    <span>Server Logs</span>
                </a>
            </nav>

            <article class="page border round active scroll" id="error_logs" style="max-height: calc(100vh - 180px) !important;">
                {% for error_log_file_name in error_logs %}
                <div class="row">
                    <button class="max border left-align error-log"
                        onclick="fetchLogContent('{{ error_log_file_name }}')"
                        data-date="{{error_log_file_name.replace('_', ':').replace('.log', '').split(' - ')[-1]}}">
                        <span>{{error_log_file_name.replace('_', ':').replace('.log', '') }}</span>
                        <span class="log-age"></span>
                        </button>
                    </button>
                    <button class="square round error" onclick="deleteLog('{{ error_log_file_name }}', this)">
                        <i>delete_forever</i>
                    </button>
                </div>
                {% endfor %}
            </article>

            <article class="page border round scroll" id="server_logs" style="max-height: calc(100vh - 180px) !important;">
                <div class="center-align">
                    <a href="/server_log">
                        <button class="responsive fill">
                            <i>adjust</i>
                            <span>Live Server Log</span>
                        </button>
                    </a>
                </div>
                {% for server_log_file_name in server_logs %}
                <div class="row">
                    <button class="max border left-align error-log"
                        onclick="fetchLogContent('{{ server_log_file_name }}')"
                        data-date="{{server_log_file_name.replace('_', ':').replace('.log', '').split(' - ')[-1]}}">{{
                        server_log_file_name.replace('_', ':') }}
                    </button>
                    <button class="square round error" onclick="deleteLog('{{ server_log_file_name }}', this)">
                        <i>delete_forever</i>
                    </button>
                </div>
                {% endfor %}
            </article>

            <div class="overlay blur"></div>
            <dialog class="max" data-ui="dialog-log_dialog" id="log_dialog">
                <nav class="row">
                    <h6 class="small bold max" id="log-name"></h6>
                    <button class="circle transparent dialog-close" onclick="ui('#log_dialog')">
                        <i>close</i>
                    </button>
                </nav>
                <div class="log_content">
                    <pre id="log_content" class="no-line"></pre>
                </div>
            </dialog>
        </main>
    </body>

</html>
